# Спецификация требований к процессу аренды помещений

## 1. Глоссарий 

* _МП_ - мобильное приложение для управления умным домом
* _АП_ - Административная панель, интерфейс для управления и настройки web и мобильного приложения
* _МОП_ - место общего пользования
* _УК_ - Управляющая Компания

## 2. Описание проекта 

### Цель: 
Подготовить интерфейс для аренды МОП через МП и управления МОП через АП

### Бизнес-контекст 
Для жителей Жилищного Комплекса доступна возможность аренды МОП на определенное время. Это может быть как зона BBQ, беседка или "переговорка". За каждым МОП закреплен представтель УК, который отвечает за его состояние. Кроме УК предоставлять МОП для аренды могут подрядчики. Сама аренда может быть платной и бесплатной. 

### Классы пользователей 
* **Супер администратор** - разработчик МП и АП.
* **Администратор** - пользователь АП, который устанавливается супер администратором. Он может создать сущность МОП в АП и управлять ей. 
* **Владелец МОП** - получатель платежей. Клиент УК, который получает денежные средства от аренды МОП. Он выбирает подрядчика, который получит возможность создать карточку МОП.
* **Арендодатель** - подрядчик, выбранный Владельцем МОП. Он создает карточку МОП, сдает МОП в платную или бесплатную аренду и несет ответственность за состояние МОП.
* **Арендатор** - пользователь МП, который арендует МОП.
* **Диспетчер** - сотрудник УК, назначенный администартором для оперативного решения инцидентов. 

## 3. Требования

### Пользовательские требования

* **Арендатор** должен иметь возможность забронировать МОП из Главного меню МБ
* **Арендатор** в разделе должен будет видеть МОП, доступные для бронирования
* **Арендатор** должен будет иметь возможность выбрать форму визуализации МОП:
* Визуализация "Список" (В разделе МОП отражаются списком их названий. Например, "Беседка", "Сцена" и т.д.)
* Визуализация "Блоки" (В разделе МОП отражаются блоками с фото объекта и его названием)
* **Арендатор** должен выбрать дату бронирования на отдельном экране
* Экран должен называться "Выбор даты бронирования"
* Под заголовком экрана должно быть отражено название МОП
* **Арендатор** должен видеть доступные для бронирования дни и часы
* **Арендатор** может забронировать дату за 2 недели
* **Арендатор** должен видеть доступные для бронирования дни и часы в календаре
* Доступность для бронирования должна отображаться визуально (Например, чем меньше доступно для бронирования часов, тем темнее отображается день)
* Те дни, в которых часы бронирования закончились, должны быть заблокированы для нажатия пользователем
* **Арендатор** должен выбрать часы бронирования, нажав на день в календаре
* Для выбора доступны интервалы длиною, который указал **администратор** при создании "карточки МОП".
* Интервалы отображаются списком
* Если бронирование платное, то в строке выбора времени появляется стоимость бронирования часа
* **Арендатор** должен забронировать МОП максимум на 1 сутки
* При нажатии **арендатором** на строку времени, под списком появляется кнопка "Подтвердить"
* Если бронирование платное, то появляется кнопка "Подтвердить оплату *** рублей"
* Информация о бронировании дублируется на почту **арендатора**
* Перед подтверждением аренды МОП, если у **арендатора** не привязана к аккаунту почта, то появится дисклеймер о необходимости закрепить почтовый адрес к аккаунту МП.
* После подтверждении оплаты должен открыться браузер, через который осуществляется транзакция
* **Арендатор** должен видеть, что МОП им забронирован
* **Арендатор** должен видеть в разделе "Пространства" надпись "Забронирован"
* Напоминания о бронировании появляются за 1 день, 1 час до начала бронирования в виде пуш-уведомлений.
* **Арендатор** должен иметь возможность отменить бронирование но не позже чем за 12 часов до начала времени бронирования
* В момент начала бронирования приходит пуш-уведомление.
* **Арендатор** может отключить нотификацию из "Настройки" на экране "Пространства"
* **Арендатор** может установить интервал нотификации из "Настройки" на экране "Пространства"
* По окончании бронирования, **арендатор** должен отсканировать QR-код. После сканирования **арендатор** должен сфотографировать МОП. Эту фотографию должен обработать **диспетчер**, чтобы убедиться, что МОП не испорчен.
* **Администратор** должен будет ввести через АП объекты МОП
* **Администратор** должен указать название МОП
* **Администратор** должен указать платная или бесплатная будет бронирование
* **Администратор** должен добавить качественные фотографии МОП (эти фотографии будут отражаться в мобильном приложении Мажордом)
* **Администратор** должен указать, нужен ли по окончании бронирования фотоотчет
* **Диспетчер** должен знать статусы бронирования МОП
* **Диспетчер** должен обрабатывать фотографии, полученные после окончания бронирования арендатором МОП
* **Диспетчер** должен обработать запрос на возврат денежных средств.

### User Stories

1. Я, как арендатор, хочу знать, какие объекты для бронирования (букинга) мне доступны, чтобы я мог получить нужную мне информацию о них без лишних переходов на сайты и звонков. 
2. Я, как арендатор, хочу иметь возможность бронировать объекты заранее, чтобы быть уверенным в том, что к выбранному времени объект был свободен.
3. Я, как арендатор, хочу оплачивать бронирование (букинга) из мобильного приложения Мажордом, чтобы не тратить большое количество времени на этот процесс.
4. Я, как арендатор, хочу иметь возможность отменять бронирования, чтобы я мог получить обратно денежные средства.
5. Я, как арендатор, хочу настраивать уведомления о предстоящем бронировании, чтобы они не казались мне навязчивыми.
6. Я, как администратор, хочу иметь возможность скрывать объект для бронирования из мобильного приложения, чтобы он был не доступен для арендаторов.
7. Я, как администратор, хочу получать сведения об оплатах, чтобы сформировать отчет для налоговой.

## 4. Низкоуровневые макеты

### Административаня панель

#### Форма создания МОП
**Цель:** создание карточки "МОП" администратором/подрядчиком в справочнике для отражения в мобильном приложении Мажордом.
<img width="931" height="661" alt="image" src="https://github.com/user-attachments/assets/9a4692af-bc72-4651-a910-080cc54c80d3" />

**Логика работы: **
1. При нажатии на кнопку "Добавить" должен открыться экран создания/редактирования карточки МОП. 
2. При выборе "Города" из выпадающего списка должна произойти фильтрация по городу. При выборе "ЖК" из выпадающего списка должна произойти фильтрация по ЖК. При выборе "Дома" из выпадающего списка должна произойти фильтрация по дому.
3. При нажатии на "Список аренды" в строке МОП должен произойти переход на экран "Название МОП. Список записей".
4. При нажатии на кнопку "Удалить" в строке МОП, строка должна исчезнуть в "Справочнике МОП" и в МП. 





